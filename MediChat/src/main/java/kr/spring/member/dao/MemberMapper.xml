<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper   
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">  
<mapper namespace="kr.spring.member.dao.MemberMapper">
	<!-- 회원가입 -->
	<insert id="insertMember_detail" parameterType="memberVO">
		INSERT INTO member_detail (mem_num,mem_passwd,mem_birth,mem_email,mem_phone,mem_zipcode,mem_address1,mem_address2) 
		VALUES(#{mem_num},#{mem_passwd},#{mem_birth},#{mem_email},#{mem_phone},#{mem_zipcode},#{mem_address1},#{mem_address2})
	</insert>
	<!-- 아이디 중복확인 -->
	<select id="checkId" parameterType="string" resultType="memberVO">
		SELECT mem_num,mem_id,mem_auth,mem_name,au_id,mem_passwd,mem_email 
		FROM member 
		LEFT OUTER JOIN member_detail USING(mem_num) 
		WHERE mem_id=#{mem_id}
	</select>
	<!-- 회원정보 수정 -->
	<update id="updateMember_detail" parameterType="memberVO">
		UPDATE member_detail SET 
		mem_birth=#{mem_birth},
		mem_email=#{mem_email},
		mem_phone=#{mem_phone},
		mem_zipcode=#{mem_zipcode},
		mem_address1=#{mem_address1},
		mem_address2=#{mem_address2},
		mem_modify=SYSDATE 
		WHERE mem_num=#{mem_num}
	</update>
</mapper>







